{"remainingRequest":"/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/src/store/modules/sounds.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/src/store/modules/sounds.js","mtime":1652845053000},{"path":"/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/node_modules/cache-loader/dist/cjs.js","mtime":1652859425070},{"path":"/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/node_modules/babel-loader/lib/index.js","mtime":1652859425349},{"path":"/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/node_modules/eslint-loader/index.js","mtime":1652859425187}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvcWl1c2h1bnF1bi9EZXNrdG9wL19cdThCMURcdTUzNTNcdTU0MUIvQ2h1b0NodW5Ic2llaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlJzsKdmFyIGNvbGxOYW1lID0gJ1NvdW5kcyc7CnZhciBzb3VuZHMgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgc291bmRzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0U291bmRzOiBmdW5jdGlvbiBnZXRTb3VuZHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNvdW5kczsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1NPVU5EUzogZnVuY3Rpb24gU0VUX1NPVU5EUyhzdGF0ZSwgc291bmRzKSB7CiAgICAgIHN0YXRlLnNvdW5kcyA9IHNvdW5kczsKICAgIH0sCiAgICBBRERfU09VTkQ6IGZ1bmN0aW9uIEFERF9TT1VORChzdGF0ZSwgc291bmQpIHsKICAgICAgc3RhdGUuc291bmRzLnB1c2goc291bmQpOwogICAgfSwKICAgIFVQREFURV9TT1VORDogZnVuY3Rpb24gVVBEQVRFX1NPVU5EKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUuc291bmRzW3BheWxvYWQuaW5kZXhdLCBwYXlsb2FkLnNvdW5kKTsKICAgIH0sCiAgICBSRU1PVkVfU09VTkQ6IGZ1bmN0aW9uIFJFTU9WRV9TT1VORChzdGF0ZSwgc291bmQpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUuc291bmRzLmluZGV4T2Yoc291bmQpOwogICAgICBzdGF0ZS5zb3VuZHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFkZFNvdW5kOiBmdW5jdGlvbiBhZGRTb3VuZChfcmVmLCBzb3VuZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIGRvY1JlZjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oY29sbE5hbWUpLmFkZChzb3VuZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGRvY1JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBzb3VuZC5pZCA9IGRvY1JlZi5pZDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnQUREX1NPVU5EJywgc291bmQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZFNvdW5kczogZnVuY3Rpb24gbG9hZFNvdW5kcyhfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCBxdWVyeVNuYXBzaG90LCBzb3VuZCwgc291bmRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZXN0b3JlKCkuY29sbGVjdGlvbihjb2xsTmFtZSkuZ2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHNvdW5kcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBzb3VuZCA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgIHNvdW5kLmlkID0gZG9jLmlkOwogICAgICAgICAgICAgICAgICByZXR1cm4gc291bmQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1NPVU5EUycsIHNvdW5kcyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVNvdW5kOiBmdW5jdGlvbiB1cGRhdGVTb3VuZChfcmVmMywgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZXN0b3JlKCkuY29sbGVjdGlvbihjb2xsTmFtZSkuZG9jKHBheWxvYWQuc291bmQuaWQpLnNldChwYXlsb2FkLnNvdW5kKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29tbWl0KCdVUERBVEVfU09VTkQnLCBwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlU291bmQ6IGZ1bmN0aW9uIHJlbW92ZVNvdW5kKF9yZWY0LCBzb3VuZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZXN0b3JlKCkuY29sbGVjdGlvbihjb2xsTmFtZSkuZG9jKHNvdW5kLmlkKS5kZWxldGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29tbWl0KCdSRU1PVkVfU09VTkQnLCBzb3VuZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgc291bmRzOw=="},{"version":3,"sources":["/Users/qiushunqun/Desktop/_謝卓君/ChuoChunHsieh/src/store/modules/sounds.js"],"names":["firestore","collName","sounds","namespaced","state","getters","getSounds","mutations","SET_SOUNDS","ADD_SOUND","sound","push","UPDATE_SOUND","payload","Object","assign","index","REMOVE_SOUND","indexOf","splice","actions","addSound","commit","collection","add","docRef","id","loadSounds","get","querySnapshot","docs","map","doc","data","updateSound","set","removeSound","delete"],"mappings":"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","sourcesContent":["import { firestore } from 'firebase';\r\n\r\nconst collName = 'Sounds';\r\n\r\nconst sounds = {\r\n    namespaced: true,\r\n    state: {\r\n        sounds: [],\r\n    },\r\n    getters: {\r\n        getSounds: (state) => {\r\n            return state.sounds;\r\n        }\r\n    },\r\n    mutations: {\r\n        SET_SOUNDS(state, sounds) {\r\n            state.sounds = sounds;\r\n        },\r\n        ADD_SOUND(state, sound) {\r\n            state.sounds.push(sound);\r\n        },\r\n        UPDATE_SOUND(state, payload) {\r\n            Object.assign(state.sounds[payload.index], payload.sound);\r\n        },\r\n        REMOVE_SOUND(state, sound) {\r\n            const index = state.sounds.indexOf(sound);\r\n            state.sounds.splice(index, 1);\r\n        }\r\n    },\r\n    actions: {\r\n        async addSound({commit}, sound) {\r\n            const docRef = await firestore().collection(collName).add(sound);\r\n            sound.id = docRef.id;\r\n            commit('ADD_SOUND', sound);\r\n        },\r\n        async loadSounds({commit}) {\r\n            const querySnapshot = await firestore().collection(collName).get();\r\n            let sound;\r\n            let sounds = querySnapshot.docs.map(function (doc) {\r\n                sound = doc.data();\r\n                sound.id = doc.id;\r\n                return sound;\r\n            });\r\n            commit('SET_SOUNDS', sounds);\r\n        },\r\n        async updateSound({commit}, payload) {\r\n            await firestore().collection(collName).doc(payload.sound.id).set(payload.sound);\r\n            commit('UPDATE_SOUND', payload);\r\n        },\r\n        async removeSound({commit}, sound) {\r\n            await firestore().collection(collName).doc(sound.id).delete();\r\n            commit('REMOVE_SOUND', sound);\r\n        }\r\n    }\r\n}\r\n\r\nexport default sounds;"]}]}