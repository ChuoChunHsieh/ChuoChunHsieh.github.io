{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5d799c36\"],{1681:function(t,e,n){},\"263e\":function(t,e,n){\"use strict\";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{},[n(\"div\",{staticClass:\"flex\"},[n(\"div\",{staticClass:\"w-1/4  m-5 bg-gray-50  p-3\"},[n(\"span\",{staticClass:\"text-xs \"},[t._v(\" 預覽如下：\")]),n(\"hr\"),n(\"markdown-it-vue\",{staticClass:\"md-body\",attrs:{content:t.content}})],1),n(\"div\",{staticClass:\"w-1/4  m-5 bg-gray-0  p-3\"},[n(\"div\",{staticClass:\"flex flex-row justify-end py-3\"},[n(\"span\",{staticClass:\"text-xs text-blue-700 font-base tracking-wide mr-24\"},[t._v(\"目前時間 : \"+t._s(t.transDate(t.cT))+\" \")]),n(\"v-btn\",{staticClass:\" w-1/4 btn btn-dark btn-lg btn-block\",attrs:{dense:\"\",small:\"\",outlined:\"\"},on:{click:t.savePost}},[t._v(\"儲存\")])],1),n(\"v-text-field\",{attrs:{outlined:\"\",\"single-line\":\"\",dense:\"\",label:\"主題\"},model:{value:t.title,callback:function(e){t.title=e},expression:\"title\"}}),n(\"v-text-field\",{attrs:{outlined:\"\",\"single-line\":\"\",dense:\"\",label:\"文章連結\",type:\"url\"},model:{value:t.url,callback:function(e){t.url=e},expression:\"url\"}}),n(\"div\",{staticClass:\"flex\"},[n(\"v-autocomplete\",{staticClass:\"mx-2\",attrs:{items:t.status_idx,dense:\"\",outlined:\"\",label:\"發文狀態\"},model:{value:t.status,callback:function(e){t.status=e},expression:\"status\"}}),n(\"v-autocomplete\",{staticClass:\"mx-2\",attrs:{items:t.type_idx,dense:\"\",outlined:\"\",label:\"文章分類\"},model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}}),n(\"v-autocomplete\",{staticClass:\"mx-2\",attrs:{items:t.lang_idx,dense:\"\",outlined:\"\",label:\"語言分類\"},model:{value:t.lang,callback:function(e){t.lang=e},expression:\"lang\"}})],1),n(\"v-textarea\",{attrs:{outlined:\"\",label:\"發文內容\"},model:{value:t.content,callback:function(e){t.content=e},expression:\"content\"}})],1),n(\"div\",{staticClass:\"w-1/2  \"},t._l(t.blogList,(function(e,s){return n(\"div\",{key:s},[n(\"div\",{staticClass:\" bg-blue-50 m-2 p-3\"},[n(\"span\",{staticClass:\"text-lg text-gray-700 font-base tracking-wide mr-3\"},[t._v(\" \"+t._s(e.title))]),n(\"span\",{staticClass:\"text-xs text-gray-700 font-base tracking-wide mr-3\"},[t._v(\"#\"+t._s(e.type)+\" #\"+t._s(e.status)+\" #\"+t._s(e.lang))]),n(\"span\",{staticClass:\"text-xs text-gray-700 font-base tracking-wide mr-3\"},[t._v(t._s(t.transDate(e.time)))]),n(\"v-btn\",{staticClass:\" w-1/7 mx-1 btn btn-dark btn-lg btn-block\",attrs:{dense:\"\",small:\"\",outlined:\"\"},on:{click:function(n){return t.deletePost(e)}}},[t._v(\"刪除\")]),n(\"v-btn\",{staticClass:\" w-1/7 mx-1 btn btn-dark btn-lg btn-block\",attrs:{dense:\"\",small:\"\",outlined:\"\"},on:{click:function(n){return t.ModifyPost(e,\"公開\")}}},[t._v(\"公開\")]),n(\"v-btn\",{staticClass:\" w-1/7 mx-1 btn btn-dark btn-lg btn-block\",attrs:{dense:\"\",small:\"\",outlined:\"\"},on:{click:function(n){return t.ModifyPost(e,\"暫時隱藏\")}}},[t._v(\"隱藏\")]),n(\"v-btn\",{staticClass:\" w-1/7 mx-1 btn btn-dark btn-lg btn-block\",attrs:{dense:\"\",small:\"\",dark:\"\",solo:\"\"},on:{click:function(n){return t.ModifyCnten(e,e.content)}}},[t._v(\"存檔\")]),n(\"v-btn-toggle\",{attrs:{color:\"light-blue darken-2\",dense:\"\",group:\"\",multiple:\"\"},model:{value:e.edit_b,callback:function(n){t.$set(e,\"edit_b\",n)},expression:\"item.edit_b\"}},[n(\"v-btn\",{attrs:{value:1}},[n(\"svg\",{staticClass:\"h-6 w-6\",attrs:{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"stroke-width\":\"2\"}},[n(\"path\",{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",d:\"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\"}})])])],1),n(\"v-textarea\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==e.edit_b,expression:\"item.edit_b == true\"}],staticClass:\"my-2\",attrs:{label:\"發文內容\",outlined:\"\"},model:{value:e.content,callback:function(n){t.$set(e,\"content\",n)},expression:\"item.content\"}}),n(\"markdown-it-vue\",{staticClass:\"md-body bg-blue-100  p-3\",attrs:{content:e.content}})],1)])})),0)])])},i=[],a=(n(\"4160\"),n(\"159b\"),n(\"48cd\")),o=n.n(a),l=(n(\"f417\"),n(\"d4ec\")),c=n(\"bee2\"),r=n(\"56d7\"),u=r[\"default\"].ref(\"/cch_blogs\"),h=function(){function t(){Object(l[\"a\"])(this,t)}return Object(c[\"a\"])(t,[{key:\"getAll\",value:function(){return u}},{key:\"create\",value:function(t){return u.push(t)}},{key:\"setuuID\",value:function(t,e){return r[\"default\"].ref(\"/pmts/\"+t).set(e)}},{key:\"update\",value:function(t,e){return u.child(t).update(e)}},{key:\"delete\",value:function(t){return u.child(t).remove()}},{key:\"deleteAll\",value:function(){return u.remove()}},{key:\"getRef\",value:function(){return u.no(\"value\",(function(t){console.log(t.val())}))}}]),t}(),d=new h,m={components:{MarkdownItVue:o.a},data:function(){return{content:\"請開始編輯內容\",msg:\"\",blogList:[],currentTime:Date.now(),cT:\"\",time:\"\",title:\"\",status:\"\",lang:\"\",url:\"\",type:\"\",status_idx:[\"草稿\",\"公開\",\"暫時隱藏\"],lang_idx:[\"中文為主\",\"英文為主\",\"中英兼備\"],type_idx:[\"學術論文\",\"學術論壇\",\"專書專刊\",\"教育部計畫\",\"科技部計畫\",\"指導研究\"]}},methods:{blog_onDataChange:function(t){var e=[];t.forEach((function(t){var n=t.key,s=t.val();e.push({key:n,content:s.content,type:s.type,status:s.status,lang:s.lang,title:s.title,time:s.time,url:s.url,edit_b:s.edit_b})})),this.blogList=e},savePost:function(){var t=this,e={time:this.dayjs(this.cT).toISOString(),type:this.type,status:this.status,lang:this.lang,title:this.title,content:this.content};d.create(e).then((function(){Swal.fire({icon:\"success\",title:\"完成登記\",text:\"系統 已將資料上傳完畢\",time:2e3})})).catch((function(e){console.log(e),t.msg=e}))},ModifyPost:function(t,e){var n=this,s={status:e};d.update(t.key,s).then((function(){Swal.fire({icon:\"info\",title:\"完成更新\",text:\"更新內容 ,上傳完畢\",time:2e3}),n.$emit(\"refreshList\")})).catch((function(t){console.log(t)}))},ModifyCnten:function(t,e){var n=this,s={content:e};d.update(t.key,s).then((function(){Swal.fire({icon:\"success\",title:\"完成更新\",text:\"更新內文 ,上傳完畢\",time:2e3}),n.$emit(\"refreshList\")})).catch((function(t){console.log(t)}))},deletePost:function(t){var e=this;d.delete(t.key).then((function(){Swal.fire({icon:\"error\",title:\"完成刪除\",text:\"系統 已將刪除完畢\",time:2e3}),e.$emit(\"refreshList\")})).catch((function(t){console.log(t)}))},UpDtaOd2:function(t){var e=this,n={content:t.content};d.update(t.key,n).then((function(){e.msg=t.bking_name+\"@\"+t.sentTime+\"更新資料,上傳成功!\"})).catch((function(t){console.log(t)}))},updateCurrentTime:function(){this.cT=Date.now()},transCurrentTime:function(t){return this.dayjs(t).format(\"HH:mm:ss\")},transDate:function(t){return this.dayjs(t).format(\"MM/DD HH:mm\")}},mounted:function(){d.getAll().on(\"value\",this.blog_onDataChange),this.interval=setInterval(this.updateCurrentTime,1e3)}},f=m,p=n(\"2877\"),g=n(\"6544\"),v=n.n(g),b=(n(\"4de4\"),n(\"7db0\"),n(\"c975\"),n(\"d81d\"),n(\"45fc\"),n(\"498a\"),n(\"5530\")),x=(n(\"2bfd\"),n(\"b974\")),I=n(\"8654\"),y=n(\"d9f7\"),w=n(\"80d2\"),k=Object(b[\"a\"])(Object(b[\"a\"])({},x[\"b\"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1}),S=x[\"a\"].extend({name:\"v-autocomplete\",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:x[\"a\"].options.props.menuProps.type,default:function(){return k}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(b[\"a\"])(Object(b[\"a\"])({},x[\"a\"].options.computed.classes.call(this)),{},{\"v-autocomplete\":!0,\"v-autocomplete--is-selecting-index\":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(w[\"q\"])(e,t.itemText),s=null!=n?String(n):\"\";return t.filter(e,String(t.internalSearch),s)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit(\"update:search-input\",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=x[\"a\"].options.computed.$_menuProps.call(this);return t.contentClass=\"v-autocomplete__content \".concat(t.contentClass||\"\").trim(),Object(b[\"a\"])(Object(b[\"a\"])({},k),t)},searchIsDirty:function(){return null!=this.internalSearch&&\"\"!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=x[\"a\"].options.computed.listData.call(this);return t.props=Object(b[\"a\"])(Object(b[\"a\"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:\"onFilteredItemsChanged\",internalValue:\"setSearch\",isFocused:function(t){t?(document.addEventListener(\"copy\",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener(\"copy\",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:\"onInternalSearchChanged\",itemText:\"updateSelf\"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener(\"copy\",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===w[\"w\"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===w[\"w\"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==w[\"w\"].backspace&&t!==w[\"w\"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var s=this.selectedItems.length,i=t!==s-1?t:t-1,a=this.selectedItems[i];a?this.selectItem(e):this.setValue(this.multiple?[]:void 0),this.selectedIndex=i}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=void 0,x[\"a\"].options.methods.clearableCallback.call(this)},genInput:function(){var t=I[\"a\"].options.methods.genInput.call(this);return t.data=Object(y[\"a\"])(t.data,{attrs:{\"aria-activedescendant\":Object(w[\"o\"])(this.$refs.menu,\"activeTile.id\"),autocomplete:Object(w[\"o\"])(t.data,\"attrs.autocomplete\",\"off\")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=x[\"a\"].options.methods.genInputSlot.call(this);return t.data.attrs.role=\"combobox\",t},genSelections:function(){return this.hasSlot||this.multiple?x[\"a\"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;x[\"a\"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){x[\"a\"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){x[\"a\"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){x[\"a\"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],n=this.getText(e);t.clipboardData.setData(\"text/plain\",n),t.clipboardData.setData(\"text/vnd.vuetify.autocomplete.item+plain\",n),t.preventDefault()}}}}),C=n(\"8336\"),D=(n(\"7e58\"),n(\"604c\")),_=D[\"a\"].extend({name:\"button-group\",provide:function(){return{btnToggle:this}},computed:{classes:function(){return D[\"a\"].options.computed.classes.call(this)}},methods:{genData:D[\"a\"].options.methods.genData}}),T=n(\"a9ad\"),O=n(\"58df\"),j=Object(O[\"a\"])(_,T[\"a\"]).extend({name:\"v-btn-toggle\",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(b[\"a\"])(Object(b[\"a\"])({},_.options.computed.classes.call(this)),{},{\"v-btn-toggle\":!0,\"v-btn-toggle--borderless\":this.borderless,\"v-btn-toggle--dense\":this.dense,\"v-btn-toggle--group\":this.group,\"v-btn-toggle--rounded\":this.rounded,\"v-btn-toggle--shaped\":this.shaped,\"v-btn-toggle--tile\":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,Object(b[\"a\"])({},_.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),V=(n(\"a9e3\"),n(\"1681\"),Object(O[\"a\"])(I[\"a\"])),M=V.extend({name:\"v-textarea\",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(b[\"a\"])({\"v-textarea\":!0,\"v-textarea--auto-grow\":this.autoGrow,\"v-textarea--no-resize\":this.noResizeHandle},I[\"a\"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height=\"0\";var e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+\"px\"}},genInput:function(){var t=I[\"a\"].options.methods.genInput.call(this);return t.tag=\"textarea\",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){I[\"a\"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit(\"keydown\",t)}}}),$=Object(p[\"a\"])(f,s,i,!1,null,null,null);e[\"default\"]=$.exports;v()($,{VAutocomplete:S,VBtn:C[\"a\"],VBtnToggle:j,VTextField:I[\"a\"],VTextarea:M})},\"2bfd\":function(t,e,n){},\"7e58\":function(t,e,n){},f417:function(t,e,n){}}]);","extractedComments":[]}